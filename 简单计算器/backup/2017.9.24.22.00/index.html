<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>简单计算器</title>
<link rel="stylesheet" href="calculator.css" type="text/css">
</head>

<body>
<div class="outer">
	<div class="showbox">
		<p class="input" id="input"></p>
		<hr> 
		<p class="result" id="result"></p>
	</div>
	<div class="main-border">
		<div class="row row1" >
			<div class="cell cell-ac" id="ac">AC</div>
			<div class="cell" id="back" onClick="document.getElementById('input').innerHTML = document.getElementById('input').innerHTML.slice(0,-1);">←</div>
			<div class="cell" id="divide" onClick="document.getElementById('input').innerHTML += '÷';">÷</div>
		</div>
		<div class="row row2">
			<div class="cell" id="seven" onClick="document.getElementById('input').innerHTML += '7';">7</div>
			<div class="cell" id="eight" onClick="document.getElementById('input').innerHTML += '8';">8</div>
			<div class="cell" id="nine" onClick="document.getElementById('input').innerHTML += '9';">9</div>	
			<div class="cell" id="mutiple" onClick="document.getElementById('input').innerHTML += '×';">×</div>
		</div>
		<div class="row row3">
			<div class="cell" id="four" onClick="document.getElementById('input').innerHTML += '4';">4</div>
			<div class="cell" id="five" onClick="document.getElementById('input').innerHTML += '5';">5</div>
			<div class="cell" id="six" onClick="document.getElementById('input').innerHTML += '6';">6</div>			
			<div class="cell" id="plus" onClick="document.getElementById('input').innerHTML += '+';">+</div>
		</div>
		<div class="row row4">
			<div class="cell" id="one" onClick="document.getElementById('input').innerHTML += '1';">1</div>
			<div class="cell" id="two" onClick="document.getElementById('input').innerHTML += '2';">2</div>
			<div class="cell" id="three" onClick="document.getElementById('input').innerHTML += '3';">3</div>			
			<div class="cell" id="minus" onClick="document.getElementById('input').innerHTML += '-';">-</div>
		</div>
		</div>
		<div class="row row5">
			<div class="cell" id="zero" onClick="document.getElementById('input').innerHTML += '0';">0</div>
			<div class="cell" id="point" onClick="document.getElementById('input').innerHTML += '.';">.</div>
			<div class="cell cell-equal" id="equal">=</div>
		</div>
</div>
</body>
<script type="text/javascript">
	document.getElementById("ac").addEventListener("click",function(){document.getElementById('input').innerHTML = '0';}) ;
	document.getElementById("ac").addEventListener("click",function(){document.getElementById('result').innerHTML = '0';}) ;

	var equal = document.getElementById("equal");//获取等号的DOM元素
	var equalSig = function(){
	var input = document.getElementById("input"),
	    result = document.getElementById("result"),
	    resultNum = 0,
	    temp = 0,
	    i;
	if(parseInt(input.innerHTML) === 0){result.innerHTML = "0";}//判断输入值是否为零
	else if(!(/\d{1,}[\+-]\d{0,}/.test(input.innerHTML)))//判断是否包含四则运算符，目前实现不完全
	{result.innerHTML = input.innerHTML;}


	else if(input.innerHTML.indexOf("+") != -1)//加法
	{
		var plusIndex = input.innerHTML.split("+");
		for(i = 0 ;i < plusIndex.length ; i++)
		{
			resultNum += parseInt(plusIndex[i]);
		}
		result.innerHTML = resultNum;
	}

	else if(input.innerHTML.indexOf("-") != -1)//减法
	{
		var minusIndex = input.innerHTML.split("-");
		for(i = 1 ;i < minusIndex.length ; i++)
		{
			temp += parseInt(minusIndex[i]);
		}
		resultNum = minusIndex[0] - temp;
		result.innerHTML = resultNum;
	}
	
};
equal.addEventListener("click",equalSig);

</script>
</html>
